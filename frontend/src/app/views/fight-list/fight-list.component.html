<div class="mat-elevation-z8">
  <div class="kendo-table">
    <div class="upper-menu">
      <div class="cell">
        <button mat-button color="secondary" (click)="goBackToTournament()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <button mat-button color="primary" (click)="addElement()">
          <mat-icon>add</mat-icon>
        </button>
        <button mat-button color="primary" [disabled]="!selectedFight" (click)="finishDuel(1)">
          <mat-icon>check_circle</mat-icon>
        </button>
        <button mat-button color="primary" (click)="openConfirmationGenerateElementsDialog()">
          <mat-icon>auto_fix_high</mat-icon>
        </button>
        <button mat-button color="warn" [disabled]="showSelectedRelatedButton()" (click)="deleteElement()">
          <mat-icon>clear</mat-icon>
        </button>
        <mat-divider [vertical]="true"></mat-divider>
        <button class="timer-button" mat-button color="primary" *ngIf="!timer" [disabled]="showSelectedRelatedButton()"
                (click)="showTimer(true)">
          <mat-icon>timer</mat-icon>
        </button>
        <button class="timer-button" mat-button color="primary" *ngIf="timer" [disabled]="showSelectedRelatedButton()"
                (click)="showTimer(false)">
          <mat-icon>timer_off</mat-icon>
        </button>
        <mat-divider [vertical]="true"></mat-divider>
        <button mat-button color="primary" [disabled]="!fights || fights.length===0"
                *ngIf="tournament && tournament.teamSize && tournament.teamSize>1"
                (click)="showTeamsClassification(areAllDuelsOver())">
          <mat-icon svgIcon="teams-classification" class="kendo-icon"></mat-icon>
        </button>
        <button mat-button color="primary" [disabled]="!fights || fights.length===0"
                (click)="showCompetitorsClassification()">
          <mat-icon svgIcon="competitors-classification" class="kendo-icon"></mat-icon>
        </button>
        <mat-divider class="download-divider" [vertical]="true"></mat-divider>
        <button class="download-button" mat-button color="primary" [disabled]="!fights || fights.length===0"
                (click)="downloadPDF()">
          <mat-icon>file_download</mat-icon>
        </button>
      </div>
    </div>
    <div class="filter">
      <mat-form-field class="filter-field">
        <input matInput type="text" placeholder="{{'filter' | translate}}">
      </mat-form-field>
    </div>
    <app-timer [startingMinutes]="getDuelDefaultMinutesDuration()" [startingSeconds]="getDuelDefaultSecondsDuration()"
               [hidden]="!timer" (onTimerFinished)="finishDuel($event[0])"
               (onTimerChanged)="updateDuelElapsedTime($event[0])"
               (timeDurationChanged)="updateDuelDuration($event[0])"></app-timer>
    <div class="mat-elevation-z8">
      <div class="fight-list">
        <fight *ngFor="let fight of fights" [fight]="fight" [selected]="fight === selectedFight"
               [over]="isFightOver(fight)" (click)="selectFight(fight)"
               (onSelectedDuel)="selectDuel($event[0])"></fight>
      </div>
      <div class="unties-list">
          <untie-fight *ngFor="let duel of unties" [duel]="duel" (click)="selectDuel(duel)"
                [selected]="duel === selectedDuel"
                [ngClass]="{duelSelected: duel === selectedDuel, over: isOver(duel)}"></untie-fight>
      </div>
    </div>
  </div>
</div>
