<div mat-dialog-content>
  <div class="picture-engine">
    <div class="d-flex flex-column align-items-center camera-frame">
      <webcam [height]="512" [width]="512" [trigger]="clickOnCamera" (imageCapture)="pictureHandler($event)"
              (initError)="errorHandler($event)"></webcam>
    </div>

    <div class="gallery">
      <div class="image-container" *ngFor="let image of pictures; let i = index" (click)="selectImage(i)">
        <img [class.selected-image]="i === selectedPicture" src="{{ image }}"/>
      </div>
    </div>
  </div>

  <div mat-dialog-actions class="button-container">
    <button mat-raised-button type="button" (click)="takePicture()"
            mat-flat-button
            color="picture" *ngIf="(RbacActivity.TAKE_PICTURE | rbac : this.rbacService.activities)">
      <mat-icon>add_a_photo</mat-icon>
      {{'photo' | translate}}</button>
    <button mat-raised-button type="button" (click)="saveImage()" [disabled]="selectedPicture == undefined"
            mat-flat-button
            color="primary" *ngIf="(RbacActivity.TAKE_PICTURE | rbac : this.rbacService.activities)">
      <mat-icon>done</mat-icon>
      {{'selectButton' | translate}}</button>
    <button mat-raised-button type="button" (click)="closeDialog()" mat-flat-button color="warn">
      <mat-icon>cancel</mat-icon>
      {{'close' | translate}}</button>
  </div>
</div>
